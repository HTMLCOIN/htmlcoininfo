const chains = new Map()

class Chain {
  constructor({
    name, type,
    port, networkMagic,
    pubkeyhash, privatekey, scripthash, witnesshrp, evm,
    genesis, lastPoWBlockHeight
  } = {}) {
    this.name = name
    this.type = type
    this.port = port
    this.networkMagic = networkMagic
    this.pubkeyhash = pubkeyhash
    this.privatekey = privatekey
    this.scripthash = scripthash
    this.witnesshrp = witnesshrp
    this.evm = evm
    this.genesis = genesis
    this.lastPoWBlockHeight = lastPoWBlockHeight
  }

  static add(options) {
    let chain = new Chain(options)
    chains.set(chain.name, chain)
  }

  static get(name) {
    return chains.get(name)
  }
}

Chain.add({
  name: 'mainnet',
  type: 'mainnet',
  port: 4888,
  networkMagic: Buffer.from([0x1f, 0x2e, 0x3d, 0x4c]),
  pubkeyhash: 0x29,
  privatekey: 0xa9,
  scripthash: 0x64,
  witnesshrp: 'hc',
  evm: 0x21,
  genesis: Buffer.from('010000000000000000000000000000000000000000000000000000000000000000000000681f98dd984a3a860269b17d5dba8de354c619b34f073cc2bf1e6f7e97607bb080f5c659ffff001fa3700100e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff3f0004bf91221d01043642424320392f32342f32303137204765726d616e7920656c656374696f6e204d65726b656c2077696e7320666f75727468207465726dffffffff0100e1f50500000000434104e67225ab32299deaf6312b5b77f0cd2a5264f3757c9663f8dc401ff8b3ad8b012fde713be690ab819f977f84eaef078767168aeb1cb1287941b6319b76d8e582ac00000000', 'hex'),
  lastPoWBlockHeight: 5000
})

Chain.add({
  name: 'testnet',
  type: 'testnet',
  port: 14889,
  networkMagic: Buffer.from([0x2f, 0x3e, 0x4d, 0x5c]),
  pubkeyhash: 0x64,
  privatekey: 0xef,
  scripthash: 0x6e,
  witnesshrp: 'tq',
  evm: 0x5c,
  genesis: Buffer.from('010000000000000000000000000000000000000000000000000000000000000000000000681f98dd984a3a860269b17d5dba8de354c619b34f073cc2bf1e6f7e97607bb080f5c659ffff001fa3700100e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff3f0004bf91221d01043642424320392f32342f32303137204765726d616e7920656c656374696f6e204d65726b656c2077696e7320666f75727468207465726dffffffff0100e1f50500000000434104e67225ab32299deaf6312b5b77f0cd2a5264f3757c9663f8dc401ff8b3ad8b012fde713be690ab819f977f84eaef078767168aeb1cb1287941b6319b76d8e582ac00000000', 'hex'),
  lastPoWBlockHeight: 5000
})

Chain.add({
  name: 'regtest',
  type: 'regtest',
  port: 24888,
  networkMagic: Buffer.from([0x3f, 0x4e, 0x5d, 0x6c]),
  pubkeyhash: 0x78,
  privatekey: 0xef,
  scripthash: 0x6e,
  witnesshrp: 'qcrt',
  evm: 0x5c,
  genesis: Buffer.from('010000000000000000000000000000000000000000000000000000000000000000000000681f98dd984a3a860269b17d5dba8de354c619b34f073cc2bf1e6f7e97607bb080f5c659ffff001fa3700100e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff3f0004bf91221d01043642424320392f32342f32303137204765726d616e7920656c656374696f6e204d65726b656c2077696e7320666f75727468207465726dffffffff0100e1f50500000000434104e67225ab32299deaf6312b5b77f0cd2a5264f3757c9663f8dc401ff8b3ad8b012fde713be690ab819f977f84eaef078767168aeb1cb1287941b6319b76d8e582ac00000000', 'hex'),
  lastPoWBlockHeight: Infinity
})

module.exports = Chain
